% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/gpu-memory.R
\name{gpu_gc}
\alias{gpu_gc}
\title{Force GPU memory cleanup}
\usage{
gpu_gc(verbose = FALSE, aggressive = TRUE)
}
\arguments{
\item{verbose}{Logical. If TRUE, prints memory freed. Default FALSE.}

\item{aggressive}{Logical. If TRUE (default), runs multiple GC passes with
short delays to more aggressively trigger finalizers. If FALSE, runs a
lighter cleanup pass.}
}
\value{
Invisibly returns a list with memory state before and after cleanup,
and the amount freed in bytes and gigabytes.
}
\description{
Triggers R garbage collection to free GPU memory held by unreferenced
\code{tbl_gpu} objects. Use this between operations when GPU memory is limited
or before large allocations.
}
\details{
GPU memory is automatically freed when \code{tbl_gpu} objects are garbage
collected by R. However, R's garbage collector doesn't know about GPU
memory pressure and may not run immediately. This function forces
garbage collection and allows time for GPU cleanup.

Call this function:
\itemize{
\item Between benchmark iterations
\item After removing large GPU objects with \code{rm()}
\item When you see out-of-memory errors
\item Before allocating large new GPU tables
}
}
\examples{
if (has_gpu()) {
  # Create and discard a GPU table
  gpu_df <- tbl_gpu(data.frame(x = runif(1000000)))
  rm(gpu_df)

  # Force cleanup
  gpu_gc(verbose = TRUE)
}
}
\seealso{
\code{\link{gpu_memory_state}} for checking current memory usage
}
