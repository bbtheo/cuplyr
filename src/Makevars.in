# Makevars.in - Template for package configuration

# CUDA and cudf paths
CUDA_HOME=@CUDA_HOME@
CUDF_INCLUDE=@CUDF_INCLUDE@
CUDF_LIB=@CUDF_LIB@
RMM_INCLUDE=@RMM_INCLUDE@
CCCL_INCLUDE=@CCCL_INCLUDE@
RAPIDS_RPATHS=@RAPIDS_RPATHS@

# Compiler flags - works for both system CUDA and conda CUDA
# Add LIBCUDACXX_ENABLE_EXPERIMENTAL_MEMORY_RESOURCE for RAPIDS 25.12
# IMPORTANT: CUDF/RMM/CCCL includes MUST come before CUDA_HOME to use matching CCCL headers
PKG_CPPFLAGS=-DRMM_ENABLE_LEGACY_MR_INTERFACE -DLIBCUDACXX_ENABLE_EXPERIMENTAL_MEMORY_RESOURCE -I$(CCCL_INCLUDE) -I$(CUDF_INCLUDE) -I$(RMM_INCLUDE) -I$(CUDA_HOME)/include
PKG_CXXFLAGS=-std=gnu++20
PKG_LIBS=-L$(CUDF_LIB) -Wl,--disable-new-dtags -Wl,-rpath,$(RAPIDS_RPATHS) -lcudf -L$(CUDA_HOME)/lib64 -Wl,-rpath,$(CUDA_HOME)/lib64 -lcuda -lcudart

# C++ standard (cudf 25.12+ requires C++20)
CXX_STD=CXX20