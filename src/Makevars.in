# Makevars.in - Template for package configuration

# CUDA and cudf paths
CUDA_HOME=@CUDA_HOME@
CUDA_DRIVER_LIB=@CUDA_DRIVER_LIB@
CUDA_RUNTIME_LIB=@CUDA_RUNTIME_LIB@
CUDF_INCLUDE=@CUDF_INCLUDE@
CUDF_LIB=@CUDF_LIB@
RMM_INCLUDE=@RMM_INCLUDE@
CCCL_INCLUDE=@CCCL_INCLUDE@
RAPIDS_RPATHS=@RAPIDS_RPATHS@

# Compiler flags - works for both system CUDA and conda CUDA
# Add LIBCUDACXX_ENABLE_EXPERIMENTAL_MEMORY_RESOURCE for RAPIDS 25.12
# IMPORTANT: CUDF/RMM/CCCL includes MUST come before CUDA_HOME to use matching CCCL headers
PKG_CPPFLAGS=-DRMM_ENABLE_LEGACY_MR_INTERFACE -DLIBCUDACXX_ENABLE_EXPERIMENTAL_MEMORY_RESOURCE $(if $(CCCL_INCLUDE),-I$(CCCL_INCLUDE),) -I$(CUDF_INCLUDE) -I$(RMM_INCLUDE) -I$(CUDA_HOME)/include
PKG_LIBS=-L$(CUDF_LIB) -Wl,--enable-new-dtags -Wl,-rpath,$(RAPIDS_RPATHS) -lcudf -L$(CUDA_DRIVER_LIB) -Wl,-rpath,$(CUDA_DRIVER_LIB) -lcuda -L$(CUDA_RUNTIME_LIB) -Wl,-rpath,$(CUDA_RUNTIME_LIB) -lcudart

# C++ standard (cudf 25.12+ requires C++20)
CXX_STD=CXX20
